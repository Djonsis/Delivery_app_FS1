[2025-08-27T14:45:24.464Z] [INFO] [LOG_FILE_ACTION] Log file has been cleared.
[2025-08-27T14:45:24.857Z] [DEBUG] [LOG_FILE_ACTION] Successfully read log file.
{ size: 79 }
[2025-08-27T14:45:32.573Z] [ERROR] [DB_ACTION] Failed to get DB status
{ error:
   { message: 'getaddrinfo ENOTFOUND fastbasket:europe-west10:delivery',
     stack:
      'Error: getaddrinfo ENOTFOUND fastbasket:europe-west10:delivery\n    at /home/user/studio/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async getDbStatusAction (/home/user/studio/.next/server/chunks/ssr/[root-of-the-server]__8f055418._.js:248:24)\n    at async /home/user/studio/node_modules/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js:417:2449\n    at async handleAction (/home/user/studio/node_modules/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js:416:21371)\n    at async renderToHTMLOrFlightImpl (/home/user/studio/node_modules/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js:422:27153)\n    at async doRender (/home/user/studio/node_modules/next/dist/server/base-server.js:1655:34)\n    at async DevServer.renderToResponseWithComponentsImpl (/home/user/studio/node_modules/next/dist/server/base-server.js:1920:28)\n    at async DevServer.renderPageComponent (/home/user/studio/node_modules/next/dist/server/base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (/home/user/studio/node_modules/next/dist/server/base-server.js:2445:32)\n    at async DevServer.pipeImpl (/home/user/studio/node_modules/next/dist/server/base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (/home/user/studio/node_modules/next/dist/server/next-server.js:305:17)\n    at async DevServer.handleRequestImpl (/home/user/studio/node_modules/next/dist/server/base-server.js:900:17)\n    at async /home/user/studio/node_modules/next/dist/server/dev/next-dev-server.js:371:20\n    at async Span.traceAsyncFn (/home/user/studio/node_modules/next/dist/trace/trace.js:157:20)\n    at async DevServer.handleRequest (/home/user/studio/node_modules/next/dist/server/dev/next-dev-server.js:368:24)\n    at async invokeRender (/home/user/studio/node_modules/next/dist/server/lib/router-server.js:237:21)\n    at async handleRequest (/home/user/studio/node_modules/next/dist/server/lib/router-server.js:428:24)\n    at async requestHandlerImpl (/home/user/studio/node_modules/next/dist/server/lib/router-server.js:452:13)\n    at async Server.requestListener (/home/user/studio/node_modules/next/dist/server/lib/start-server.js:158:13)' } }
[2025-08-27T14:45:33.168Z] [WARN] [STORAGE_ACTION] S3 status check failed: missing environment variables.
[2025-08-27T14:45:33.537Z] [ERROR] [DB_ACTION] Failed to get DB status
{ error:
   { message: 'getaddrinfo ENOTFOUND fastbasket:europe-west10:delivery',
     stack:
      'Error: getaddrinfo ENOTFOUND fastbasket:europe-west10:delivery\n    at /home/user/studio/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async getDbStatusAction (/home/user/studio/.next/server/chunks/ssr/[root-of-the-server]__8f055418._.js:248:24)\n    at async /home/user/studio/node_modules/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js:417:2449\n    at async handleAction (/home/user/studio/node_modules/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js:416:21371)\n    at async renderToHTMLOrFlightImpl (/home/user/studio/node_modules/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js:422:27153)\n    at async doRender (/home/user/studio/node_modules/next/dist/server/base-server.js:1655:34)\n    at async DevServer.renderToResponseWithComponentsImpl (/home/user/studio/node_modules/next/dist/server/base-server.js:1920:28)\n    at async DevServer.renderPageComponent (/home/user/studio/node_modules/next/dist/server/base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (/home/user/studio/node_modules/next/dist/server/base-server.js:2445:32)\n    at async DevServer.pipeImpl (/home/user/studio/node_modules/next/dist/server/base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (/home/user/studio/node_modules/next/dist/server/next-server.js:305:17)\n    at async DevServer.handleRequestImpl (/home/user/studio/node_modules/next/dist/server/base-server.js:900:17)\n    at async /home/user/studio/node_modules/next/dist/server/dev/next-dev-server.js:371:20\n    at async Span.traceAsyncFn (/home/user/studio/node_modules/next/dist/trace/trace.js:157:20)\n    at async DevServer.handleRequest (/home/user/studio/node_modules/next/dist/server/dev/next-dev-server.js:368:24)\n    at async invokeRender (/home/user/studio/node_modules/next/dist/server/lib/router-server.js:237:21)\n    at async handleRequest (/home/user/studio/node_modules/next/dist/server/lib/router-server.js:428:24)\n    at async requestHandlerImpl (/home/user/studio/node_modules/next/dist/server/lib/router-server.js:452:13)\n    at async Server.requestListener (/home/user/studio/node_modules/next/dist/server/lib/start-server.js:158:13)' } }
[2025-08-27T14:45:33.817Z] [WARN] [STORAGE_ACTION] S3 status check failed: missing environment variables.
[2025-08-27T14:45:50.048Z] [INFO] [PRODUCTS_SERVICE] Fetching all products from DB.
[2025-08-27T14:45:50.049Z] [DEBUG] [DATABASE] Executing query
{ text: 'SELECT * FROM products WHERE deleted_at IS NULL ORDER BY created_at DESC',
  params: undefined }
[2025-08-27T14:45:50.058Z] [DEBUG] [DATABASE] Executed query in 9ms
[2025-08-27T14:45:50.079Z] [ERROR] [PRODUCTS_SERVICE] Error fetching products from DB
{ error:
   { message: 'getaddrinfo ENOTFOUND fastbasket:europe-west10:delivery',
     stack:
      'Error: getaddrinfo ENOTFOUND fastbasket:europe-west10:delivery\n    at /home/user/studio/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async getProducts (/home/user/studio/.next/server/chunks/ssr/[root-of-the-server]__e60baba5._.js:261:26)\n    at async ProductsPage (/home/user/studio/.next/server/chunks/ssr/[root-of-the-server]__e60baba5._.js:910:22)' } }
[2025-08-27T14:45:52.963Z] [INFO] [API_CATEGORIES] Received request for product categories (from DB via service).
[2025-08-27T14:45:52.963Z] [INFO] [PRODUCTS_SERVICE] Fetching all categories from DB.
[2025-08-27T14:45:52.964Z] [DEBUG] [DATABASE] Executing query
{ text:
   'SELECT DISTINCT category FROM products WHERE deleted_at IS NULL AND category IS NOT NULL',
  params: undefined }
[2025-08-27T14:45:52.967Z] [DEBUG] [DATABASE] Executed query in 3ms
[2025-08-27T14:45:52.972Z] [ERROR] [PRODUCTS_SERVICE] Error fetching categories from DB
{ error:
   { message: 'getaddrinfo ENOTFOUND fastbasket:europe-west10:delivery',
     stack:
      'Error: getaddrinfo ENOTFOUND fastbasket:europe-west10:delivery\n    at /home/user/studio/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async getCategories (/home/user/studio/.next/server/chunks/[root-of-the-server]__450353c6._.js:368:26)\n    at async GET (/home/user/studio/.next/server/chunks/[root-of-the-server]__450353c6._.js:412:28)\n    at async AppRouteRouteModule.do (/home/user/studio/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (/home/user/studio/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (/home/user/studio/node_modules/next/dist/server/base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (/home/user/studio/node_modules/next/dist/server/base-server.js:1920:28)\n    at async DevServer.renderPageComponent (/home/user/studio/node_modules/next/dist/server/base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (/home/user/studio/node_modules/next/dist/server/base-server.js:2445:32)\n    at async DevServer.pipeImpl (/home/user/studio/node_modules/next/dist/server/base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (/home/user/studio/node_modules/next/dist/server/next-server.js:305:17)\n    at async DevServer.handleRequestImpl (/home/user/studio/node_modules/next/dist/server/base-server.js:900:17)\n    at async /home/user/studio/node_modules/next/dist/server/dev/next-dev-server.js:371:20\n    at async Span.traceAsyncFn (/home/user/studio/node_modules/next/dist/trace/trace.js:157:20)\n    at async DevServer.handleRequest (/home/user/studio/node_modules/next/dist/server/dev/next-dev-server.js:368:24)\n    at async invokeRender (/home/user/studio/node_modules/next/dist/server/lib/router-server.js:237:21)\n    at async handleRequest (/home/user/studio/node_modules/next/dist/server/lib/router-server.js:428:24)\n    at async requestHandlerImpl (/home/user/studio/node_modules/next/dist/server/lib/router-server.js:452:13)\n    at async Server.requestListener (/home/user/studio/node_modules/next/dist/server/lib/start-server.js:158:13)' } }
[2025-08-27T14:45:52.974Z] [INFO] [API_CATEGORIES] Returning 0 categories from database.
[2025-08-27T14:45:53.423Z] [INFO] [API_CATEGORIES] Received request for product categories (from DB via service).
[2025-08-27T14:45:53.428Z] [INFO] [PRODUCTS_SERVICE] Fetching all categories from DB.
[2025-08-27T14:45:53.429Z] [DEBUG] [DATABASE] Executing query
{ text:
   'SELECT DISTINCT category FROM products WHERE deleted_at IS NULL AND category IS NOT NULL',
  params: undefined }
[2025-08-27T14:45:53.435Z] [DEBUG] [DATABASE] Executed query in 6ms
[2025-08-27T14:45:53.437Z] [ERROR] [PRODUCTS_SERVICE] Error fetching categories from DB
{ error:
   { message: 'getaddrinfo ENOTFOUND fastbasket:europe-west10:delivery',
     stack:
      'Error: getaddrinfo ENOTFOUND fastbasket:europe-west10:delivery\n    at /home/user/studio/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async getCategories (/home/user/studio/.next/server/chunks/[root-of-the-server]__450353c6._.js:368:26)\n    at async GET (/home/user/studio/.next/server/chunks/[root-of-the-server]__450353c6._.js:412:28)\n    at async AppRouteRouteModule.do (/home/user/studio/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (/home/user/studio/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:26:41338)\n    at async doRender (/home/user/studio/node_modules/next/dist/server/base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (/home/user/studio/node_modules/next/dist/server/base-server.js:1920:28)\n    at async DevServer.renderPageComponent (/home/user/studio/node_modules/next/dist/server/base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (/home/user/studio/node_modules/next/dist/server/base-server.js:2445:32)\n    at async DevServer.pipeImpl (/home/user/studio/node_modules/next/dist/server/base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (/home/user/studio/node_modules/next/dist/server/next-server.js:305:17)\n    at async DevServer.handleRequestImpl (/home/user/studio/node_modules/next/dist/server/base-server.js:900:17)\n    at async /home/user/studio/node_modules/next/dist/server/dev/next-dev-server.js:371:20\n    at async Span.traceAsyncFn (/home/user/studio/node_modules/next/dist/trace/trace.js:157:20)\n    at async DevServer.handleRequest (/home/user/studio/node_modules/next/dist/server/dev/next-dev-server.js:368:24)\n    at async invokeRender (/home/user/studio/node_modules/next/dist/server/lib/router-server.js:237:21)\n    at async handleRequest (/home/user/studio/node_modules/next/dist/server/lib/router-server.js:428:24)\n    at async requestHandlerImpl (/home/user/studio/node_modules/next/dist/server/lib/router-server.js:452:13)\n    at async Server.requestListener (/home/user/studio/node_modules/next/dist/server/lib/start-server.js:158:13)' } }
[2025-08-27T14:45:53.441Z] [INFO] [API_CATEGORIES] Returning 0 categories from database.
[2025-08-27T14:46:26.623Z] [INFO] [PRODUCT_ACTION] Creating a new product in DB
{ title: 'Картофель' }
[2025-08-27T14:46:26.623Z] [DEBUG] [DATABASE] Executing query
{ text:
   'INSERT INTO products (title, description, price, currency, category, tags) VALUES ($1, $2, $3, $4, $5, $6)',
  params:
   [ 'Картофель',
     'Картофель из Великовечного — эталон вкуса кубанского урожая! Выращен в экологически чистом районе. Рассыпчатый, ароматный, с нежной текстурой. Идеален для пюре и запекания.',
     50,
     'RUB',
     'Овощи',
     '{"Акция","хит"}' ] }
[2025-08-27T14:46:26.625Z] [DEBUG] [DATABASE] Executed query in 2ms
[2025-08-27T14:46:26.626Z] [ERROR] [PRODUCT_ACTION] Failed to create product in DB
{ error:
   { message: 'getaddrinfo ENOTFOUND fastbasket:europe-west10:delivery',
     stack:
      'Error: getaddrinfo ENOTFOUND fastbasket:europe-west10:delivery\n    at /home/user/studio/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async createProductAction (/home/user/studio/.next/server/chunks/ssr/[root-of-the-server]__0dd2dd0e._.js:278:9)\n    at async /home/user/studio/node_modules/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js:417:2449\n    at async handleAction (/home/user/studio/node_modules/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js:416:21371)\n    at async renderToHTMLOrFlightImpl (/home/user/studio/node_modules/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js:422:27153)\n    at async doRender (/home/user/studio/node_modules/next/dist/server/base-server.js:1655:34)\n    at async DevServer.renderToResponseWithComponentsImpl (/home/user/studio/node_modules/next/dist/server/base-server.js:1920:28)\n    at async DevServer.renderPageComponent (/home/user/studio/node_modules/next/dist/server/base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (/home/user/studio/node_modules/next/dist/server/base-server.js:2445:32)\n    at async DevServer.pipeImpl (/home/user/studio/node_modules/next/dist/server/base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (/home/user/studio/node_modules/next/dist/server/next-server.js:305:17)\n    at async DevServer.handleRequestImpl (/home/user/studio/node_modules/next/dist/server/base-server.js:900:17)\n    at async /home/user/studio/node_modules/next/dist/server/dev/next-dev-server.js:371:20\n    at async Span.traceAsyncFn (/home/user/studio/node_modules/next/dist/trace/trace.js:157:20)\n    at async DevServer.handleRequest (/home/user/studio/node_modules/next/dist/server/dev/next-dev-server.js:368:24)\n    at async invokeRender (/home/user/studio/node_modules/next/dist/server/lib/router-server.js:237:21)\n    at async handleRequest (/home/user/studio/node_modules/next/dist/server/lib/router-server.js:428:24)\n    at async requestHandlerImpl (/home/user/studio/node_modules/next/dist/server/lib/router-server.js:452:13)\n    at async Server.requestListener (/home/user/studio/node_modules/next/dist/server/lib/start-server.js:158:13)' } }
