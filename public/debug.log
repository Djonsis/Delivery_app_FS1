[2025-08-19T15:03:35.352Z] [INFO] [LOG_FILE_ACTION] Log file has been cleared.
[2025-08-19T15:03:35.720Z] [DEBUG] [LOG_FILE_ACTION] Successfully read log file.
{ size: 79 }
[2025-08-19T15:03:59.540Z] [INFO] [ORDER_ACTION] Attempting to create a new order...
{ customer: 'Иван Петров', itemCount: 3 }
[2025-08-19T15:03:59.546Z] [DEBUG] [ORDER_ACTION] Prepared order data for Firestore.
{ total: 1550 }
[2025-08-19T15:03:59.916Z] [ERROR] [ORDER_ACTION] Error creating order in Firestore
{ error:
   { message:
      '2 UNKNOWN: Getting metadata from plugin failed with error: error:1E08010C:DECODER routines::unsupported',
     stack:
      'Error: 2 UNKNOWN: Getting metadata from plugin failed with error: error:1E08010C:DECODER routines::unsupported\n    at callErrorFromStatus (/home/user/studio/node_modules/@grpc/grpc-js/build/src/call.js:32:19)\n    at Object.onReceiveStatus (/home/user/studio/node_modules/@grpc/grpc-js/build/src/client.js:193:76)\n    at Object.onReceiveStatus (/home/user/studio/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:361:141)\n    at Object.onReceiveStatus (/home/user/studio/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:324:181)\n    at /home/user/studio/node_modules/@grpc/grpc-js/build/src/resolving-call.js:135:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/home/user/studio/node_modules/@grpc/grpc-js/build/src/client.js:161:32)\n    at ServiceClientImpl.<anonymous> (/home/user/studio/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /home/user/studio/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:242:33\n    at /home/user/studio/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at repeat (/home/user/studio/node_modules/google-gax/build/src/normalCalls/retries.js:82:25)\n    at /home/user/studio/node_modules/google-gax/build/src/normalCalls/retries.js:125:13\n    at OngoingCallPromise.call (/home/user/studio/node_modules/google-gax/build/src/call.js:67:27)\n    at NormalApiCaller.call (/home/user/studio/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)\n    at /home/user/studio/node_modules/google-gax/build/src/createApiCall.js:112:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\nCaused by: Error: \n    at _firestore._traceUtil.startActiveSpan (/home/user/studio/node_modules/@google-cloud/firestore/build/src/write-batch.js:438:27)\n    at /home/user/studio/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:110:30\n    at NoopContextManager.with (/home/user/studio/node_modules/@opentelemetry/api/build/src/context/NoopContextManager.js:25:19)\n    at ContextAPI.with (/home/user/studio/node_modules/@opentelemetry/api/build/src/api/context.js:60:46)\n    at NoopTracer.startActiveSpan (/home/user/studio/node_modules/@opentelemetry/api/build/src/trace/NoopTracer.js:65:31)\n    at ProxyTracer.startActiveSpan (/home/user/studio/node_modules/@opentelemetry/api/build/src/trace/ProxyTracer.js:36:24)\n    at EnabledTraceUtil.startActiveSpan (/home/user/studio/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:102:28)\n    at WriteBatch.commit (/home/user/studio/node_modules/@google-cloud/firestore/build/src/write-batch.js:436:43)\n    at /home/user/studio/node_modules/@google-cloud/firestore/build/src/reference/document-reference.js:273:18\n    at /home/user/studio/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:110:30\n    at NoopContextManager.with (/home/user/studio/node_modules/@opentelemetry/api/build/src/context/NoopContextManager.js:25:19)\n    at ContextAPI.with (/home/user/studio/node_modules/@opentelemetry/api/build/src/api/context.js:60:46)\n    at NoopTracer.startActiveSpan (/home/user/studio/node_modules/@opentelemetry/api/build/src/trace/NoopTracer.js:65:31)\n    at ProxyTracer.startActiveSpan (/home/user/studio/node_modules/@opentelemetry/api/build/src/trace/ProxyTracer.js:36:24)\n    at EnabledTraceUtil.startActiveSpan (/home/user/studio/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:102:28)\n    at DocumentReference.create (/home/user/studio/node_modules/@google-cloud/firestore/build/src/reference/document-reference.js:269:43)\n    at /home/user/studio/node_modules/@google-cloud/firestore/build/src/reference/collection-reference.js:217:32\n    at /home/user/studio/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:110:30\n    at NoopContextManager.with (/home/user/studio/node_modules/@opentelemetry/api/build/src/context/NoopContextManager.js:25:19)\n    at ContextAPI.with (/home/user/studio/node_modules/@opentelemetry/api/build/src/api/context.js:60:46)\n    at NoopTracer.startActiveSpan (/home/user/studio/node_modules/@opentelemetry/api/build/src/trace/NoopTracer.js:65:31)\n    at ProxyTracer.startActiveSpan (/home/user/studio/node_modules/@opentelemetry/api/build/src/trace/ProxyTracer.js:36:24)\n    at EnabledTraceUtil.startActiveSpan (/home/user/studio/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:102:28)\n    at CollectionReference.add (/home/user/studio/node_modules/@google-cloud/firestore/build/src/reference/collection-reference.js:212:43)\n    at createOrder (/home/user/studio/.next/server/chunks/ssr/[root-of-the-server]__09e7b6f7._.js:241:190)\n    at /home/user/studio/node_modules/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js:417:2548\n    at AsyncLocalStorage.run (node:async_hooks:346:14)\n    at /home/user/studio/node_modules/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js:417:2513\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async handleAction (/home/user/studio/node_modules/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js:416:21371)\n    at async renderToHTMLOrFlightImpl (/home/user/studio/node_modules/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js:422:27153)\n    at async doRender (/home/user/studio/node_modules/next/dist/server/base-server.js:1655:34)\n    at async DevServer.renderToResponseWithComponentsImpl (/home/user/studio/node_modules/next/dist/server/base-server.js:1920:28)\n    at async DevServer.renderPageComponent (/home/user/studio/node_modules/next/dist/server/base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (/home/user/studio/node_modules/next/dist/server/base-server.js:2445:32)\n    at async DevServer.pipeImpl (/home/user/studio/node_modules/next/dist/server/base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (/home/user/studio/node_modules/next/dist/server/next-server.js:305:17)\n    at async DevServer.handleRequestImpl (/home/user/studio/node_modules/next/dist/server/base-server.js:900:17)\n    at async /home/user/studio/node_modules/next/dist/server/dev/next-dev-server.js:371:20\n    at async Span.traceAsyncFn (/home/user/studio/node_modules/next/dist/trace/trace.js:157:20)\n    at async DevServer.handleRequest (/home/user/studio/node_modules/next/dist/server/dev/next-dev-server.js:368:24)\n    at async invokeRender (/home/user/studio/node_modules/next/dist/server/lib/router-server.js:237:21)\n    at async handleRequest (/home/user/studio/node_modules/next/dist/server/lib/router-server.js:428:24)\n    at async requestHandlerImpl (/home/user/studio/node_modules/next/dist/server/lib/router-server.js:452:13)\n    at async Server.requestListener (/home/user/studio/node_modules/next/dist/server/lib/start-server.js:158:13)' } }
[2025-08-19T15:04:32.939Z] [DEBUG] [LOG_FILE_ACTION] Successfully read log file.
{ size: 7695 }
[2025-08-26T15:02:47.188Z] [INFO] [PRODUCTS_SERVICE] Fetching all products from API.
[2025-08-26T15:02:50.230Z] [INFO] [API_PRODUCTS] Received request for all products (MOCKED).
[2025-08-26T15:02:50.232Z] [INFO] [API_PRODUCTS] Returning 8 mock products.
[2025-08-26T15:02:50.257Z] [DEBUG] [PRODUCTS_SERVICE] Fetched 8 products.
[2025-08-26T15:02:50.600Z] [INFO] [PRODUCTS_SERVICE] Fetching all categories from API.
[2025-08-26T15:02:53.306Z] [INFO] [API_CATEGORIES] Received request for product categories (MOCKED).
[2025-08-26T15:02:53.307Z] [INFO] [API_CATEGORIES] Returning 6 mock categories.
[2025-08-26T15:02:53.318Z] [DEBUG] [PRODUCTS_SERVICE] Found 6 unique categories.
[2025-08-26T15:02:53.712Z] [INFO] [PRODUCTS_SERVICE] Fetching all products from API.
[2025-08-26T15:02:53.849Z] [INFO] [API_PRODUCTS] Received request for all products (MOCKED).
[2025-08-26T15:02:53.850Z] [INFO] [API_PRODUCTS] Returning 8 mock products.
[2025-08-26T15:02:53.858Z] [DEBUG] [PRODUCTS_SERVICE] Fetched 8 products.
[2025-08-26T15:02:54.169Z] [INFO] [PRODUCTS_SERVICE] Fetching all categories from API.
[2025-08-26T15:02:54.279Z] [INFO] [API_CATEGORIES] Received request for product categories (MOCKED).
[2025-08-26T15:02:54.283Z] [INFO] [API_CATEGORIES] Returning 6 mock categories.
[2025-08-26T15:02:54.295Z] [DEBUG] [PRODUCTS_SERVICE] Found 6 unique categories.
[2025-08-27T09:41:21.345Z] [INFO] [PRODUCTS_SERVICE] Fetching all products from DB.
[2025-08-27T09:41:21.347Z] [DEBUG] [DATABASE] Executing query
{ text: 'SELECT * FROM products WHERE deleted_at IS NULL ORDER BY created_at DESC',
  params: undefined }
[2025-08-27T09:41:21.360Z] [DEBUG] [DATABASE] Executed query in 13ms
[2025-08-27T09:41:21.374Z] [ERROR] [PRODUCTS_SERVICE] Error fetching products from DB
{ error:
   { message: 'getaddrinfo ENOTFOUND fastbasket:europe-west10:delivery',
     stack:
      'Error: getaddrinfo ENOTFOUND fastbasket:europe-west10:delivery\n    at /home/user/studio/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async getProducts (/home/user/studio/.next/server/chunks/ssr/[root-of-the-server]__e60baba5._.js:251:26)\n    at async ProductsPage (/home/user/studio/.next/server/chunks/ssr/[root-of-the-server]__e60baba5._.js:900:22)' } }
[2025-08-27T10:30:42.050Z] [INFO] [PRODUCTS_SERVICE] Fetching all products from DB.
[2025-08-27T10:30:42.052Z] [DEBUG] [DATABASE] Executing query
{ text: 'SELECT * FROM products WHERE deleted_at IS NULL ORDER BY created_at DESC',
  params: undefined }
[2025-08-27T10:30:42.054Z] [DEBUG] [DATABASE] Executed query in 3ms
[2025-08-27T10:30:42.085Z] [ERROR] [PRODUCTS_SERVICE] Error fetching products from DB
{ error:
   { message: 'getaddrinfo ENOTFOUND fastbasket:europe-west10:delivery',
     stack:
      'Error: getaddrinfo ENOTFOUND fastbasket:europe-west10:delivery\n    at /home/user/studio/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async getProducts (/home/user/studio/.next/server/chunks/ssr/[root-of-the-server]__e60baba5._.js:251:26)\n    at async ProductsPage (/home/user/studio/.next/server/chunks/ssr/[root-of-the-server]__e60baba5._.js:900:22)' } }
