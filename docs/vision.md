## 1. Технологии

- **Фреймворк:** Next.js (App Router)
- **Язык:** TypeScript
- **UI-библиотека:** React, ShadCN UI
- **Стилизация:** Tailwind CSS
- **База данных:** PostgreSQL (через Google Cloud SQL)
- **Хранилище файлов:** Google Cloud Storage (S3-совместимый API)
- **AI/LLM:** Google Genkit
- **Деплоймент:** Firebase App Hosting

## 2. Архитектура проекта

Проект строится на основе классической **трехслойной архитектуры**, адаптированной под Next.js App Router:

1.  **Слой представления (UI Layer):**
    -   Находится в `src/app` (страницы и компоненты) и `src/components`.
    -   Отвечает исключительно за отображение данных и взаимодействие с пользователем.
    -   Компоненты не содержат прямой бизнес-логики или запросов к базе данных. Они вызывают `Server Actions`.

2.  **Слой действий и сервисов (Actions & Services Layer):**
    -   Находится в `src/app/actions` и `src/lib/services`.
    -   `Actions` служат точкой входа для UI. Они валидируют данные и вызывают соответствующие сервисы.
    -   `Services` (например, `products.service.ts`) инкапсулируют бизнес-логику и являются единственным местом, где происходит работа с данными (CRUD). Это гарантирует, что UI отделен от деталей реализации хранилища.

3.  **Слой доступа к данным (Data Access Layer):**
    -   Представлен модулем `src/lib/db.ts` и `src/lib/s3-client.ts`.
    -   Обеспечивает низкоуровневое подключение и взаимодействие с PostgreSQL и S3.
    -   Сервисный слой использует этот модуль, полностью абстрагируясь от деталей подключения (будь то Cloud SQL Proxy или Unix-сокет в продакшене).
