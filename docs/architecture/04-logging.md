# 04 - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –°–∏—Å—Ç–µ–º—ã –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

> **–í–µ—Ä—Å–∏—è:** 1.1.0  
> **–î–∞—Ç–∞:** 2025-10-18  
> **–°—Ç–∞—Ç—É—Å:** –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å–∏—Å—Ç–µ–º—ã –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â—É—é —á–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–º –∏ —Å–µ—Ä–≤–µ—Ä–Ω—ã–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º, –∏ –µ—ë –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å AI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏.

---

## üéØ –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ—à–∞–µ—Ç —Ç—Ä–∏ –∫–ª—é—á–µ–≤—ã–µ –∑–∞–¥–∞—á–∏:

1.  **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ò–∑–æ–ª—è—Ü–∏—è:** –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–≥–µ—Ä–æ–≤ –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –∏ —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –∫–æ–¥–∞.
2.  **–£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π API:** –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —É–¥–æ–±–Ω–æ–≥–æ –∏ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–≥–æ API –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.
3.  **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ AI-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:** –°–±–æ—Ä —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –ª–æ–≥–æ–≤ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–¥–∞–≤–∞—Ç—å AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç—É –≤–æ–ø—Ä–æ—Å—ã –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Å–∏—Å—Ç–µ–º—ã.

---

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### 1. –í–∏–∑—É–∞–ª—å–Ω–∞—è —Å—Ö–µ–º–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                 LOGGING SYSTEM ARCHITECTURE                      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                  ‚îÇ
‚îÇ  CLIENT CODE                 ‚îÇ         SERVER CODE              ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îÇ      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ   logger.ts        ‚îÇ      ‚îÇ      ‚îÇ  server-logger.ts       ‚îÇ ‚îÇ
‚îÇ  ‚îÇ                    ‚îÇ      ‚îÇ      ‚îÇ  + 'server-only'        ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ React           ‚îÇ      ‚îÇ      ‚îÇ  ‚Ä¢ Server Actions       ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ Hooks           ‚îÇ      ‚îÇ      ‚îÇ  ‚Ä¢ Route Handlers       ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ Client Utils    ‚îÇ      ‚îÇ      ‚îÇ  ‚Ä¢ API Routes           ‚îÇ ‚îÇ
‚îÇ  ‚îÇ                    ‚îÇ      ‚îÇ      ‚îÇ                         ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  Output:           ‚îÇ      ‚îÇ      ‚îÇ  Output:                ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚úÖ Console only   ‚îÇ      ‚îÇ      ‚îÇ  ‚úÖ Console             ‚îÇ ‚îÇ
‚îÇ  ‚îÇ                    ‚îÇ      ‚îÇ      ‚îÇ  ‚úÖ File (debug.log)    ‚îÇ ‚îÇ
‚îÇ  ‚îÇ                    ‚îÇ      ‚îÇ      ‚îÇ  ‚úÖ Winston             ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îÇ      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ       ‚úÖ Safe                ‚îÇ            üõ°Ô∏è Protected         ‚îÇ
‚îÇ    for Browser              ‚îÇ         Compile Error if         ‚îÇ
‚îÇ                             ‚îÇ         imported in client       ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 2. –î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–º API

–°–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö —Ñ–∏–∑–∏—á–µ—Å–∫–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π, —á—Ç–æ–±—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ–¥ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–æ–ø–∞–¥–µ—Ç –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –±–∞–Ω–¥–ª.

#### **`src/lib/logger.ts` (–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π / Client-Safe):**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ª—é–±–æ–º –∫–æ–¥–µ, –≤–∫–ª—é—á–∞—è React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ —Ö—É–∫–∏.
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:** –ü–æ–ª–Ω–æ—Å—Ç—å—é –±–µ–∑–æ–ø–∞—Å–µ–Ω –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞, **–Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–º–ø–æ—Ä—Ç–æ–≤ Node.js API (–Ω–∞–ø—Ä–∏–º–µ—Ä, `fs`)**.
- **–í—ã–≤–æ–¥:** –¢–æ–ª—å–∫–æ –≤ –∫–æ–Ω—Å–æ–ª—å (`console.log`, `console.error` –∏ —Ç.–¥.).
- **API:**
    - `logger.withCategory('CATEGORY')` ‚Äî –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–±.
    - `logger('CATEGORY')` ‚Äî –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.

#### **`src/lib/server-logger.ts` (–°–µ—Ä–≤–µ—Ä–Ω—ã–π):**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **—Å—Ç—Ä–æ–≥–æ** –≤ –∫–æ–¥–µ, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (Server Actions, Route Handlers).
- **–ó–∞—â–∏—Ç–∞:** –ú–æ–¥—É–ª—å –∑–∞—â–∏—â–µ–Ω –¥–∏—Ä–µ–∫—Ç–∏–≤–æ–π `import 'server-only';`. –≠—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É –Ω–∞ —ç—Ç–∞–ø–µ —Å–±–æ—Ä–∫–∏, –µ—Å–ª–∏ –∫—Ç–æ-—Ç–æ –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
    - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **Winston** –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è.
    - –í—ã–≤–æ–¥: –î—É–±–ª–∏—Ä—É–µ—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å –∏ –≤ —Ñ–∞–π–ª `public/debug.log`.
    - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Google Cloud Logging (–≤ production).
- **API:**
    - `serverLogger.withCategory('CATEGORY')`

### 3. –ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏

- **–£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π API:** –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤, API –ª–æ–≥–≥–µ—Ä–æ–≤ (`withCategory`, `info`, `error` –∏ —Ç.–¥.) –∏–¥–µ–Ω—Ç–∏—á–µ–Ω, —á—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É.
- **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** –°—Ç–∞—Ä—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å `logger('CATEGORY')` –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –ø–æ–∑–≤–æ–ª—è—è –ø—Ä–æ–≤–æ–¥–∏—Ç—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ.
- **–ù–∞–¥–µ–∂–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `'server-only'` —è–≤–ª—è–µ—Ç—Å—è compile-time –≥–∞—Ä–∞–Ω—Ç–∏–µ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, —á—Ç–æ –≤–∞–∂–Ω–µ–µ, —á–µ–º —É–¥–æ–±—Å—Ç–≤–æ –∏–º–ø–æ—Ä—Ç–∞ –∏–∑ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞.

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### Server-Only Protection

`serverLogger` –∑–∞—â–∏—â–µ–Ω –¥–∏—Ä–µ–∫—Ç–∏–≤–æ–π `import 'server-only'`, –∫–æ—Ç–æ—Ä–∞—è:
- **–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç** –µ–≥–æ –∏–º–ø–æ—Ä—Ç –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º –∫–æ–¥–µ (–≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É —Å–±–æ—Ä–∫–∏).
- **–ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç**, —á—Ç–æ –º–æ–¥—É–ª–∏ `fs` –∏ `winston` –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–æ–ø–∞–¥—É—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–Ω—ã–π –±–∞–Ω–¥–ª.
- **–û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è** —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–º Next.js (v13+) –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–±–æ—Ä–∫–∏, —á—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –ª—É—á—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π.

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**
- ‚ùå –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ª–æ–≥–∏—Ä—É–π—Ç–µ –ø–∞—Ä–æ–ª–∏, —Ç–æ–∫–µ–Ω—ã, API –∫–ª—é—á–∏
- ‚ùå –ò–∑–±–µ–≥–∞–π—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–ª–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö –∫–∞—Ä—Ç
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
- ‚úÖ –õ–æ–≥–∏—Ä—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã (user ID, order ID)

```typescript
// ‚ùå –ü–õ–û–•–û: –ü–∞—Ä–æ–ª–∏ –≤ –ª–æ–≥–∞—Ö
logger.info('User login', { password: user.password });

// ‚úÖ –•–û–†–û–®–û: –¢–æ–ª—å–∫–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
logger.info('User login', { userId: user.id, email: user.email });

// ‚úÖ –ï–©–ï –õ–£–ß–®–ï: –ú–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ email
logger.info('User login', { 
  userId: user.id, 
  email: maskEmail(user.email) // u***@example.com
});
```

---

## üõ† –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –í React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö (Client-Side)

```typescript
import { logger } from '@/lib/logger';

// –ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω (v1.1):
const log = logger.withCategory('CART_COMPONENT');

// Legacy –ø–∞—Ç—Ç–µ—Ä–Ω (—Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é):
const legacyLog = logger('CART_COMPONENT');

export function CartComponent() {
  const handleAddItem = (product: Product) => {
    log.info('Adding item to cart', { 
      productId: product.id,
      title: product.title 
    });
  };

  const handleRemoveItem = (productId: string) => {
    log.warn('Removing item from cart', { productId });
  };

  return (
    // JSX...
  );
}
```

### –í Server Actions (Server-Side)

```typescript
import { serverLogger } from '@/lib/server-logger';

const orderLogger = serverLogger.withCategory('ORDER_ACTION');

export async function createOrderAction(data: OrderData) {
  orderLogger.info('Creating new order', { 
    customer: data.customer,
    itemsCount: data.items.length 
  });

  orderLogger.time('order-creation');
  
  try {
    const order = await db.orders.create(data);
    orderLogger.timeEnd('order-creation'); // –í—ã–≤–µ–¥–µ—Ç: "order-creation took 123ms"
    
    orderLogger.info('Order created successfully', { 
      orderId: order.id,
      totalAmount: order.totalAmount 
    });
    
    return { success: true, orderId: order.id };
  } catch (error) {
    orderLogger.error('Failed to create order', error);
    return { success: false, error: 'Order creation failed' };
  }
}
```

### –í API Routes

```typescript
// src/app/api/products/route.ts
import { serverLogger } from '@/lib/server-logger';

const apiLogger = serverLogger.withCategory('PRODUCTS_API');

export async function GET(request: Request) {
  apiLogger.info('Fetching products list');
  
  try {
    const products = await getProducts();
    apiLogger.info('Products fetched successfully', { 
      count: products.length 
    });
    
    return Response.json(products);
  } catch (error) {
    apiLogger.error('Failed to fetch products', error);
    return Response.json({ error: 'Internal error' }, { status: 500 });
  }
}
```

---

## üìã –ú–∏–≥—Ä–∞—Ü–∏—è —Å–æ —Å—Ç–∞—Ä–æ–≥–æ API

–ï—Å–ª–∏ –≤ –≤–∞—à–µ–º –∫–æ–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞—Ä—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω:

```typescript
// ‚ùå –°—Ç–∞—Ä—ã–π —Å–ø–æ—Å–æ–± (—É—Å—Ç–∞—Ä–µ–ª):
import { logger } from '@/lib/logger';
const log = logger('CATEGORY');

// ‚úÖ –ù–æ–≤—ã–π —Å–ø–æ—Å–æ–± (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):
import { logger } from '@/lib/logger';
const log = logger.withCategory('CATEGORY');
```

### –ü–æ—á–µ–º—É –º–µ–Ω—è—Ç—å:
- ‚úÖ –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å —Å `serverLogger` API
- ‚úÖ –õ—É—á—à–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –∏ –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ IDE
- ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ conventions –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –ï–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å –≤–æ –≤—Å–µ–π –∫–æ–¥–æ–≤–æ–π –±–∞–∑–µ

### –ö–æ–≥–¥–∞ –º–µ–Ω—è—Ç—å:
- **–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ –Ω–∞–¥ —Ñ–∞–π–ª–æ–º** (Boy Scout Rule - –æ—Å—Ç–∞–≤—å –∫–æ–¥ —á–∏—â–µ, —á–µ–º –Ω–∞—à–µ–ª)
- **–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ** - –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –º–∞—Å—Å–æ–≤—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
- **–í –Ω–æ–≤–æ–º –∫–æ–¥–µ** - –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π –Ω–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏:

–î–ª—è –º–∞—Å—Å–æ–≤–æ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å regex –∑–∞–º–µ–Ω—É:

```bash
# –ù–∞–π—Ç–∏ –≤—Å–µ –≤—Ö–æ–∂–¥–µ–Ω–∏—è —Å—Ç–∞—Ä–æ–≥–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞:
grep -r "logger('.*')" src/

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å codemod (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
npx jscodeshift -t transforms/migrate-logger.js src/
```

---

## ‚ö†Ô∏è –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

### 1. –ò–º–ø–æ—Ä—Ç serverLogger –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º –∫–æ–¥–µ

```typescript
// ‚ùå –û–®–ò–ë–ö–ê: –í—ã–∑–æ–≤–µ—Ç compile error
"use client";
import { serverLogger } from '@/lib/server-logger';

export function MyComponent() {
  serverLogger.info('This will fail!'); // üí• Build error!
  return <div>Hello</div>;
}
```

**–û—à–∏–±–∫–∞ —Å–±–æ—Ä–∫–∏:**
```
Module not found: Package path ./server-only is not exported from package 'server-only'
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `logger` –∏–∑ `@/lib/logger`.

```typescript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û
"use client";
import { logger } from '@/lib/logger';

const componentLogger = logger.withCategory('MY_COMPONENT');

export function MyComponent() {
  componentLogger.info('This works!'); // ‚úÖ
  return <div>Hello</div>;
}
```

---

### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ serverLogger –≤ shared utils

```typescript
// ‚ùå –ü–õ–û–•–û: src/lib/utils.ts (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏ –≤ –∫–ª–∏–µ–Ω—Ç–µ, –∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)
import { serverLogger } from '@/lib/server-logger'; // üí• –û—à–∏–±–∫–∞!

export function formatPrice(amount: number) {
  serverLogger.debug('Formatting price', { amount });
  return `$${amount.toFixed(2)}`;
}
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π `logger`:

```typescript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: src/lib/utils.ts
import { logger } from '@/lib/logger';

const utilsLogger = logger.withCategory('UTILS');

export function formatPrice(amount: number) {
  utilsLogger.debug('Formatting price', { amount });
  return `$${amount.toFixed(2)}`;
}
```

---

### 3. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –±–µ–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

```typescript
// ‚ùå –ü–õ–û–•–û: –¢—Ä—É–¥–Ω–æ –Ω–∞–π—Ç–∏ –∏—Å—Ç–æ—á–Ω–∏–∫ –ª–æ–≥–∞
logger.info('User logged in');

// ‚úÖ –•–û–†–û–®–û: –Ø—Å–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫
const authLogger = logger.withCategory('AUTH');
authLogger.info('User logged in', { userId: user.id });
```

---

### 4. –ò–∑–±—ã—Ç–æ—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ü–∏–∫–ª–∞—Ö

```typescript
// ‚ùå –ü–õ–û–•–û: –ó–∞—Å–æ—Ä—è–µ—Ç –ª–æ–≥–∏
products.forEach(product => {
  logger.debug('Processing product', { id: product.id }); // 1000 —Å—Ç—Ä–æ–∫ –ª–æ–≥–æ–≤!
});

// ‚úÖ –•–û–†–û–®–û: –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
logger.debug('Processing products batch', { count: products.length });
products.forEach(product => processProduct(product));
logger.debug('Products processed successfully');
```

---

## ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### 1. –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É—Ä–æ–≤–Ω–µ–π –ª–æ–≥–æ–≤

```typescript
// ‚ùå –ü–õ–û–•–û: debug –≤ production –∑–∞–º–µ–¥–ª—è–µ—Ç
logger.debug('Processing item', { 
  data: largeObject, // –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–æ–ª—å—à–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
  metadata: expensiveComputation() 
});

// ‚úÖ –•–û–†–û–®–û: –£—Å–ª–æ–≤–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
if (process.env.NODE_ENV === 'development') {
  logger.debug('Processing item', { data: largeObject });
}

// ‚úÖ –ï–©–ï –õ–£–ß–®–ï: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å LOG_LEVEL –≤ .env
// .env.production:
// LOG_LEVEL=info  (debug –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è)
```

### 2. –õ–µ–Ω–∏–≤–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ª–æ–≥–æ–≤

```typescript
// ‚ùå –ü–õ–û–•–û: –í—ã—á–∏—Å–ª–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –¥–∞–∂–µ –µ—Å–ª–∏ –ª–æ–≥ –Ω–µ –≤—ã–≤–µ–¥–µ—Ç—Å—è
logger.debug('User stats', expensiveCalculation(user));

// ‚úÖ –•–û–†–û–®–û: –í—ã—á–∏—Å–ª–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω—É–∂–Ω—ã
if (LOG_LEVELS.debug >= configuredLevel) {
  logger.debug('User stats', expensiveCalculation(user));
}
```

### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ performance timers

```typescript
const orderLogger = serverLogger.withCategory('ORDER_SERVICE');

export async function processOrder(orderId: string) {
  // –ó–∞–º–µ—Ä –æ–±—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
  orderLogger.time('order-processing');
  
  // –ó–∞–º–µ—Ä –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —ç—Ç–∞–ø–æ–≤
  orderLogger.time('db-fetch');
  const order = await db.orders.findById(orderId);
  orderLogger.timeEnd('db-fetch'); // "db-fetch took 45ms"
  
  orderLogger.time('payment-processing');
  await processPayment(order);
  orderLogger.timeEnd('payment-processing'); // "payment-processing took 320ms"
  
  orderLogger.timeEnd('order-processing'); // "order-processing took 365ms"
}
```

### 4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞ –ª–æ–≥–æ–≤

–í production –æ–∫—Ä—É–∂–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä `public/debug.log` –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

```typescript
// src/lib/config.ts
export const loggingConfig = {
  logDir: 'public',
  logFile: 'debug.log',
  maxFileSize: 5 * 1024 * 1024, // 5MB
  autoClear: true // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏
};
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ä–∞–∑–º–µ—Ä –ª–æ–≥–æ–≤ –≤ Admin UI (`/admin/logs`)
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `info` –∏ –≤—ã—à–µ –¥–ª—è production
- `debug` —Ç–æ–ª—å–∫–æ –¥–ª—è development/staging

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Environment Variables

```bash
# .env.local (development)
LOG_LEVEL=debug              # debug | info | warn | error
LOG_FORMAT=text              # text | json (–¥–ª—è Winston)
NODE_ENV=development

# .env.production
LOG_LEVEL=info               # –û—Ç–∫–ª—é—á–∞–µ—Ç debug –ª–æ–≥–∏
LOG_FORMAT=json              # –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞
NODE_ENV=production
```

### –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

| –£—Ä–æ–≤–µ–Ω—å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | Production? |
|---------|-----------|------------|-------------|
| `debug` | 0 (lowest) | –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –æ—Ç–ª–∞–¥–∫–∞, –¥–µ—Ç–∞–ª–∏ | ‚ùå –û—Ç–∫–ª—é—á–µ–Ω |
| `info` | 1 | –ë–∏–∑–Ω–µ—Å-—Å–æ–±—ã—Ç–∏—è, —É—Å–ø–µ—à–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ | ‚úÖ –í–∫–ª—é—á–µ–Ω |
| `warn` | 2 | –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è, –Ω–µ—à—Ç–∞—Ç–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏ | ‚úÖ –í–∫–ª—é—á–µ–Ω |
| `error` | 3 (highest) | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏, exceptions | ‚úÖ –í–∫–ª—é—á–µ–Ω |

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —É—Ä–æ–≤–Ω–µ–π

```typescript
const logger = serverLogger.withCategory('PAYMENT');

// debug - –¥–µ—Ç–∞–ª–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
logger.debug('Payment request prepared', { 
  gatewayUrl, 
  paymentMethod,
  amount 
});

// info - –≤–∞–∂–Ω—ã–µ –±–∏–∑–Ω–µ—Å-—Å–æ–±—ã—Ç–∏—è
logger.info('Payment processed successfully', { 
  transactionId,
  amount,
  currency 
});

// warn - –Ω–µ—à—Ç–∞—Ç–Ω—ã–µ, –Ω–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏
logger.warn('Payment gateway slow response', { 
  responseTime: 5000,
  threshold: 3000 
});

// error - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
logger.error('Payment processing failed', error);
```

---

## üîÑ Roadmap –∏ –±—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### Phase 1: Local File Logging ‚úÖ (Completed)
- –î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –ª–æ–≥–≥–µ—Ä–æ–≤
- –§–∞–π–ª–æ–≤—ã–π –≤—ã–≤–æ–¥ –≤ `public/debug.log`
- Admin UI –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤ (`/admin/logs`)
- Winston integration –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –ª–æ–≥–æ–≤
- AI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ª–æ–≥–æ–≤

---

### Phase 2: Google Cloud Logging üîÑ (Planned)

–ö–æ–≥–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è, —Ñ–∞–π–ª `public/debug.log` –±—É–¥–µ—Ç –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ Google Cloud Logging.

#### –ß—Ç–æ –∏–∑–º–µ–Ω–∏—Ç—Å—è:
```typescript
// src/lib/server-logger.ts - —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞—Ö Winston
if (isCloud()) {
  winstonLogger.add(new LoggingWinston()); // ‚Üê –£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ!
} else {
  winstonLogger.add(new winston.transports.File(...)); // ‚Üê –õ–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º
}
```

```typescript
// src/lib/actions/log.actions.ts - –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —á—Ç–µ–Ω–∏–∏ –ª–æ–≥–æ–≤
export async function getLogsAction() {
  if (isCloud()) {
    // –ß–∏—Ç–∞–µ–º –∏–∑ Cloud Logging API
    return await cloudLogging.getEntries();
  } else {
    // –ß–∏—Ç–∞–µ–º –∏–∑ —Ñ–∞–π–ª–∞ (–∫–∞–∫ —Å–µ–π—á–∞—Å)
    return await fs.readFile('public/debug.log');
  }
}
```

#### –ß—Ç–æ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
- ‚úÖ API –ª–æ–≥–≥–µ—Ä–æ–≤ (`logger.withCategory`, `serverLogger.info`)
- ‚úÖ –í–µ—Å—å –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥
- ‚úÖ Admin UI (`/admin/logs`)
- ‚úÖ AI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

#### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Cloud Logging:
- **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ:** –õ–æ–≥–∏ —Å–æ –≤—Å–µ—Ö –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
- **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è:** –ü–æ–∏—Å–∫ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º, –≤—Ä–µ–º–µ–Ω–Ω—ã–º –º–µ—Ç–∫–∞–º, severity
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è:** Retention policies –±–µ–∑ —Ä—É—á–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º:** –ê–ª–µ—Ä—Ç—ã –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–∫–∞—Ö
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ high-traffic –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

---

### Phase 3: Advanced Analytics üîÆ (Future)

#### –ú–µ—Ç—Ä–∏–∫–∏ –∏ –¥–∞—à–±–æ—Ä–¥—ã:
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –æ—à–∏–±–æ–∫
- –¢—Ä–µ–Ω–¥—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (—Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ–ø–µ—Ä–∞—Ü–∏–π)
- Heat maps –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ —Å—É—Ç–æ–∫
- Top-N —Å–∞–º—ã—Ö —á–∞—Å—Ç—ã—Ö –æ—à–∏–±–æ–∫

#### –ê–ª–µ—Ä—Ç—ã:
- Email/SMS –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–∫–∞—Ö
- Slack notifications –¥–ª—è team
- PagerDuty integration –¥–ª—è on-call engineers

#### AI-powered –∞–Ω–∞–ª–∏–∑:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∞–Ω–æ–º–∞–ª–∏–π
- –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç—Ä–µ–Ω–¥–æ–≤
- –£–º–Ω—ã–µ —Å–∞–º–º–∞—Ä–∏: "–ó–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å –ø—Ä–æ–∏–∑–æ—à–ª–æ X –æ—à–∏–±–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ Y"
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ Admin UI

### –î–æ—Å—Ç—É–ø –∫ –ª–æ–≥–∞–º

**Admin Panel:** `/admin/logs`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- üìã –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- üîç –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–µ–∫—Å—Ç—É
- üìä –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞
- üóëÔ∏è –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º
- ‚òÅÔ∏è –ò–Ω–¥–∏–∫–∞—Ü–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–∞ (Cloud/Local)

### –ú–µ—Ç—Ä–∏–∫–∏ (—Ç–µ–∫—É—â–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏):
- ‚úÖ –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –ª–æ–≥–æ–≤
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π
- ‚úÖ –ò—Å—Ç–æ—á–Ω–∏–∫ –ª–æ–≥–æ–≤ (Cloud/Local)
- ‚úÖ –°—Ç–∞—Ç—É—Å —Ñ–∞–π–ª–∞ (—Å—É—â–µ—Å—Ç–≤—É–µ—Ç/–Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)

### –ú–µ—Ç—Ä–∏–∫–∏ (–ø–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ –≤ Phase 3):
- üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —É—Ä–æ–≤–Ω—è–º –ª–æ–≥–æ–≤
- üè∑Ô∏è –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- ‚è±Ô∏è –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π
- üö® Top –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫

---

## ü§ñ AI-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–æ–≥–æ–≤ —Å AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º

–°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Å AI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ —á–µ—Ä–µ–∑ Genkit Tools.

**–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤:**
```
"–ï—Å—Ç—å –ª–∏ –æ—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å?"
"–ü–æ–∫–∞–∂–∏ –≤—Å–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ORDER_SERVICE"
"–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ —Å —Å–∏—Å—Ç–µ–º–æ–π —Å–µ–≥–æ–¥–Ω—è?"
"–ù–∞–π–¥–∏ –≤ –ª–æ–≥–∞—Ö —É–ø–æ–º–∏–Ω–∞–Ω–∏—è user_id=123"
```

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

```typescript
// src/ai/tools/logs-tool.ts
import { getLogsAction } from '@/lib/actions/log.actions';

export const readLogsToolDefinition = defineToolDefinition({
  name: 'readProjectLogs',
  description: 'Read application logs for debugging and analysis',
  async execute() {
    const result = await getLogsAction();
    return result.logs || [];
  }
});
```

AI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ß–∏—Ç–∞–µ—Ç –ª–æ–≥–∏ —á–µ—Ä–µ–∑ Server Action
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—ã –æ—à–∏–±–æ–∫
- –í—ã–¥–µ–ª—è–µ—Ç –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Ä–µ—à–µ–Ω–∏—è

---

## üéì Best Practices

### 1. –ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –ª–æ–≥–æ–≤
```typescript
// ‚úÖ –•–û–†–û–®–û: –õ–æ–≥–∏—á–Ω–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π
const authLogger = serverLogger.withCategory('AUTH');
const paymentLogger = serverLogger.withCategory('PAYMENT');
const dbLogger = serverLogger.withCategory('DATABASE');

// ‚ùå –ü–õ–û–•–û: –ù–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
const logger1 = serverLogger.withCategory('stuff');
const logger2 = serverLogger.withCategory('things');
```

### 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
```typescript
// ‚úÖ –•–û–†–û–®–û: –õ–µ–≥–∫–æ –ø–∞—Ä—Å–∏—Ç—Å—è –∏ —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç—Å—è
logger.info('Order created', {
  orderId: '123',
  userId: 'user_456',
  amount: 1500,
  currency: 'RUB'
});

// ‚ùå –ü–õ–û–•–û: –°–ª–æ–∂–Ω–æ –ø–∞—Ä—Å–∏—Ç—å
logger.info(`Order 123 created by user_456 for 1500 RUB`);
```

### 3. –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
```typescript
// ‚úÖ –•–û–†–û–®–û: –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
logger.error('Failed to process payment', {
  orderId,
  userId,
  amount,
  paymentGateway: 'stripe',
  errorCode: error.code,
  errorMessage: error.message
});

// ‚ùå –ü–õ–û–•–û: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
logger.error('Payment failed');
```

### 4. –ò–∑–±–µ–≥–∞–π—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤ hot paths
```typescript
// ‚ùå –ü–õ–û–•–û: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –≤—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–º —Ü–∏–∫–ª–µ
for (let i = 0; i < 10000; i++) {
  logger.debug(`Processing item ${i}`); // 10,000 –ª–æ–≥–æ–≤!
  processItem(items[i]);
}

// ‚úÖ –•–û–†–û–®–û: –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
logger.info(`Starting batch processing`, { count: items.length });
for (let i = 0; i < items.length; i++) {
  processItem(items[i]);
}
logger.info(`Batch processing completed`, { 
  count: items.length,
  duration: Date.now() - startTime 
});
```

---

## üìö –°—Å—ã–ª–∫–∏ –∏ —Ä–µ—Å—É—Ä—Å—ã

### –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:
- `docs/architecture/02-conventions.md` - Code conventions (import rules)
- `docs/process/01-workflow.md` - Workflow –∏ Boy Scout Rule
- `src/lib/config.ts` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

### –í–Ω–µ—à–Ω–∏–µ —Ä–µ—Å—É—Ä—Å—ã:
- [Winston Documentation](https://github.com/winstonjs/winston)
- [Google Cloud Logging](https://cloud.google.com/logging/docs)
- [Next.js Server-Only Package](https://nextjs.org/docs/app/building-your-application/rendering/composition-patterns#keeping-server-only-code-out-of-the-client-environment)

---

## üîñ –í–µ—Ä—Å–∏–æ–Ω–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è

| –í–µ—Ä—Å–∏—è | –î–∞—Ç–∞ | –ò–∑–º–µ–Ω–µ–Ω–∏—è |
|--------|------|-----------|
| 1.0.0 | 2024-12 | –ü–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞ |
| 1.1.0 | 2025-10-18 | ‚Ä¢ –î–æ–±–∞–≤–ª–µ–Ω —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π API<br>‚Ä¢ –£–ª—É—á—à–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏<br>‚Ä¢ –î–æ–±–∞–≤–ª–µ–Ω—ã best practices –∏ –ø—Ä–∏–º–µ—Ä—ã<br>‚Ä¢ –î–æ–±–∞–≤–ª–µ–Ω roadmap –¥–ª—è Cloud Logging |

---

*–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ—Ç—Ä–∞–∂–∞–µ—Ç —Ç–µ–∫—É—â—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Å–∏—Å—Ç–µ–º—ã –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è. –õ—é–±—ã–µ –¥–∞–ª—å–Ω–µ–π—à–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω—ã –ø–µ—Ä–µ–¥ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π —Å–æ–≥–ª–∞—Å–Ω–æ workflow, –æ–ø–∏—Å–∞–Ω–Ω–æ–º—É –≤ `docs/process/01-workflow.md`.*